% !TEX root = main.tex
\section{事件的概率}

事件的\textbf{概率}：刻画试验中随机事件发生的\textbf{可能性大小}.

\subsection{概率的统计定义}
\label{sec:prob-stat-defn}
\begin{definition*}
    设在$n$次试验中, 事件$A$发生了$m$次, 则称
    \begin{align*}
        f_n(A):=\frac{m}{n}
    \end{align*}
    为事件$A$发生的\textbf{频率}(frequency).
\end{definition*}

\begin{definition*}%[概率的统计定义]
    在相同条件下重复进行的试验中, 若随着试验次数$n$的增加, 
    事件$A$发生的频率稳定在某一常数$p$附近, 
    则称$p$为事件$A$的\textbf{概率}, 记作$P(A)=p$.
\end{definition*}
也就是概率是频率的稳定值. 实际应用中常将大量重复试验中事件的频率作为概率的近似估计.

\begin{proposition*}
    频率的性质:
    \begin{itemize}
        \item $0\le f_n(A)\le 1$;
        \item $f_n(\Omega)=1,\ f_n(\emptyset)=0$;
        \item 若事件$A_1, A_2, \cdots, A_k$两两互斥, 则
              $$f_n \left( \bigcup_{i=1}^k A_i \right)=\sum_{i=1}^k f_n(A_i)$$
    \end{itemize}
\end{proposition*}

由于上述的性质, 我们给出概率的数学公理化定义:
\begin{definition}[概率的公理化定义]
    \label{def:prob}
    设$\Omega$是样本空间, 定义概率空间$(\Omega,\mathcal{F},P)$. 对每个事件$A\in \mathcal{F}$定义一个实数$P(A)$与之对应. 
    集合函数$P$满足以下条件：
    \begin{itemize}
        \item 非负性：对任意事件$A$, 均有$P(A)\ge 0$;
        \item 规范性：$P(\Omega)=1$;
        \item 可加性：若事件序列$\{A_n\}_{n\ge 1}$两两互斥, 则
              $$P \left( \bigcup_{n=1}^{\infty} A_n \right)=\sum_{n=1}^{\infty} P(A_n)$$
    \end{itemize}
    则称$P(A)$为事件$A$的\textbf{概率}(probability).
\end{definition}


\mn{事件可以先简单认为就是$\Omega$一堆子集构成的集合, 当然有一些条件需要满足. 对于初学者而言, 下面的就先不用看了. 这些内容只是为了那些学习过离散数学并且知道这种情形的作用的同学准备的. }
这里的事件用集合的语言描述, 考虑集合 $A \subseteq \Omega$ 的某个集系 $\mathscr{A}_0$, 则利用集合运算 $\cup, \cap$ 与 $\backslash$ 可以由 $\mathscr{A}_0$ 构造新集系, 其中元素也是事件. 给这些事件补充上必然事件 $\Omega$ 和不可能事件 $\varnothing$, 得集系 $\mathscr{A}$, 则 $\mathcal{A}$ 是代数. 所谓 ``代数'' 即 $\Omega$ 的这样的集系, 满足
\begin{itemize}
    \item [1)] $\Omega \in \mathcal{F}$,
    \item    [2)] 若 $A \in \mathcal{F}, B \in \mathcal{F}$, 则集合 $A \cup B, A \cap B, A \backslash B$ 也都属于 $\mathcal{F}$.
\end{itemize}

例如这些内容
\begin{example}
    a) $\mathscr{A}=\{\Omega, \varnothing\}$集系由 $\Omega$ 和空集 $\varnothing$ 构成, 称做平凡代数;

b) $\mathscr{A}=\{A, \bar{A}, \Omega, \varnothing\}$事件 $A$ 产生的集系;

c) $\mathscr{A}=\{A: A \subseteq \Omega\}$ $\Omega$ 全部子集的集系 (包括空集 $\varnothing$ ).
\end{example}

这些事件代数可以按分割的方式得到: 我们称集系
$$
\mathscr{D}=\left\{D_1, \cdots, D_n\right\}
$$

构成集合 $\Omega$ 的一个分割, 而 $D_1, \cdots, D_n$ 是该分割的原子, 如果 $D_1, \cdots, D_n$ 非空且两两不相容, 而它们的和等于 $\Omega$ :
$$
D_1+\cdots+D_n=\Omega .
$$

例如, 假定集合 $\Omega$ 由 3 个点构成: $\Omega=\{1,2,3\}$, 则存在 5 个不同的分割:
$$
\begin{array}{ll}
\mathscr{D}_1=\left\{D_1\right\} & D_1=\{1,2,3\} \\
\mathscr{D}_2=\left\{D_1, D_2\right\} & D_1=\{1,2\}, D_2=\{3\} \\
\mathscr{D}_3=\left\{D_1, D_2\right\} & D_1=\{1,3\}, D_2=\{2\} \\
\mathscr{D}_4=\left\{D_1, D_2\right\} & D_1=\{2,3\}, D_2=\{1\} \\
\mathscr{D}_5=\left\{D_1, D_2, D_3\right\} & D_1=\{1\}, D_2=\{2\} ; D_3=\{3\} .
\end{array}
$$

\begin{wrapfigure}{l}{0.6\textwidth}
    \input{fig/ch1/set-algebra.tex} 
    \caption{集合代数}
    \label{fig:set-alg}
\end{wrapfigure}

如果考虑 $\mathscr{D}$ 中一切集合的并连同空集 $\varnothing$, 则得到的集系是代数, 称做 $\mathscr{D}$ 产生的代数, 记作 $\sigma(\mathscr{D})$. 于是, 代数 $\sigma(\mathscr{D})$ 的元素由空集 $\varnothing$ 与分割 $\mathscr{D}$ 之原子中集合的和组成.
这样, 如果 $\mathscr{D}$ 是 $\Omega$ 的某一分割, 则它与代数 $\mathscr{D}=\sigma(\mathscr{D})$ 一一对应. 如\cref{fig:set-alg}.



逆命题也正确. $\mathscr{D}$ 是有限空间 $\Omega$ 的子集的代数, 则存在唯一分割 $\mathscr{D}$, 其原子是代数 $\mathscr{B}$ 的元素, 并且 $\mathscr{D}=\sigma(\mathscr{D})$. 事实上, 假设集合 $\mathscr{D} \in \mathscr{B}$ 并且具有性质:对于任意 $B \in \mathscr{B}$, 集合 $D \cap B$ 要么与 $D$ 重合, 要么是空集. 那么, 这样集合 $D$ 的全体组成分割 $\mathscr{D}$ 并且具有所要求的性质 $B=\sigma(\mathscr{D})$. 



\begin{takeaway}
    概率是在样本空间上面定义的一个函数, 满足: 
    \begin{itemize}
        \item (1)非负性: 每个事件的概率必须大于等于0; 
        \item (2)规范性
        所有的事件概率``总和''等于1; 
        \item (3) 可加性: 互斥事件的概率可以直接相加.
    \end{itemize}
\end{takeaway}
    


\subsection{概率的加法公式}
我们已经在互斥的时候, 规定了其概率的计算方法. 也就是公理(3). 特别地, 当$n=2$的时候, 就有: 
\begin{proposition}[加法公式]
    若两个事件$A,B$互斥, 则
    $$P(A\cup B)=P(A)+P(B).$$
\end{proposition}

下面我们来看一看不互斥的情形.
\begin{remark}
    由加法公式可得到如下性质：
    \begin{itemize}
        \item 对任意事件$A$, 有
              $P(A)=1-P\left(\overline{A}\right).$
        \item 对任意两个事件$A,B$, 有
              $$P(A\cup B)=P(A)+P(B)-P(AB).$$
    \end{itemize}
\end{remark}

\begin{asidebox}
    我们实际上可以借此瞥见容斥原理.
    \begin{remark}
        若三个事件$A_1, A_2, A_3$两两互斥, 则
        $$ P(A_1 \cup A_2 \cup A_3) = P(A_1)+P(A_2)+P(A_3).$$
        对任意三个事件$A_1, A_2, A_3$, 有
        \begin{align*}
             P(A_1 \cup A_2 \cup A_3) & =\color{blue}P(A_1)+P(A_2)+P(A_3)              \\
                                          & \phantom=\color{red}-P(A_1A_2)-P(A_1A_3)-P(A_2A_3) \\
                                          & \phantom=\color{blue}+P(A_1A_2A_3).
        \end{align*}%
    \end{remark}

    \begin{remark}
        更一般地, 可以使用容斥原理计算:
        若$n$个事件$A_1, A_2, \cdots, A_n$两两互斥, 则
        $$ P\left( \bigcup_{i=1}^n A_i \right)=\sum_{i=1}^n P(A_i).$$
        \vspace{0.2in}
        对任意$n$个事件$A_1, A_2, \cdots, A_n$, 有
        $$ P\left( \bigcup_{i=1}^n A_i \right)=\sum_{k=1}^n \left[ (-1)^{k+1} \sum_{1\le i_1\le \cdots\le i_k \le n} P(A_{i_1}\cdots A_{i_k}) \right].$$
    \end{remark}


\end{asidebox}

\subsection{古典概型模型}
\begin{definition}
    如果一个随机试验具有以下特点：
    \begin{itemize}%\setcounter{enumi}{2}
        \item 样本空间只含有限多个样本点; 
        \item 各样本点出现的可能性相等, 
    \end{itemize}
    则称此随机试验是古典型的. 此时对每个事件$A\subset \Omega$, 
    \begin{align*}
        P(A)=\frac{\mbox{事件$A$包含的样本点数}}{\mbox{样本点的总数}}=\frac{n(A)}{n(\Omega)}
    \end{align*}
    称为事件$A$的\textbf{古典概率}. 
\end{definition}

根据上述的定义, 我们可以立即得出$P(\emptyset)=0$, $P(\Omega)=1$. 






\subsection{几何概型}

\begin{definition}
    设样本空间为有限区域$\Omega$,若样本点落入$\Omega$内的任何区域$G$中的概率与区域$G$的测度成正比, 则样本点落入$G$内的概率为：
    $$
        p=\frac{\vert G\vert}{\vert \Omega \vert}
    $$
\end{definition}

我们可以先简单地把``测度''理解为面积. 并且我们发现, 如果$P(A)=0$, 那么$A$不一定是不可能事件. 比如正方形区域中的一个点, 一个点的面积为0. 因此正方形中选一个点的概率总为0. 





